  


<!DOCTYPE html>
<html>
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# githubog: http://ogp.me/ns/fb/githubog#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Package basics · hadley/devtools Wiki · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub" />
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub" />
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png" />
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png" />
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png" />
    <link rel="logo" type="image/svg" href="http://github-media-downloads.s3.amazonaws.com/github-logo.svg" />
    <link rel="assets" href="https://a248.e.akamai.net/assets.github.com/">
    <link rel="xhr-socket" href="/_sockets" />
    


    <meta name="msapplication-TileImage" content="/windows-tile.png" />
    <meta name="msapplication-TileColor" content="#ffffff" />
    <meta name="selected-link" value="repo_wiki" data-pjax-transient />
    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" />

    
    
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <meta content="authenticity_token" name="csrf-param" />
<meta content="mODsyB6SDxEc1W90xawXVAnCmJhJOpl77zBHgW56MCU=" name="csrf-token" />

    <link href="https://a248.e.akamai.net/assets.github.com/assets/github-a4c524f2138ecc4dd5bf9b8a6b1517bf38aa7b65.css" media="all" rel="stylesheet" type="text/css" />
    <link href="https://a248.e.akamai.net/assets.github.com/assets/github2-90ab6d28026c957cc4eb3342b1512f4c4737ede5.css" media="all" rel="stylesheet" type="text/css" />
    


      <script src="https://a248.e.akamai.net/assets.github.com/assets/frameworks-5c60c478b1e0f90d149f11ed15aa52edd2996882.js" type="text/javascript"></script>
      <script src="https://a248.e.akamai.net/assets.github.com/assets/github-bea1759cc95fdb5c7e9e75865d7f5f52cde816c0.js" type="text/javascript"></script>
      
      <meta http-equiv="x-pjax-version" content="ae58be9616684df1f6944f16d25aa1d4">

        <script src="https://a248.e.akamai.net/assets.github.com/assets/wiki-f13f987b3fa7ca72efa2e432d19c4024fde72e6a.js" type="text/javascript"></script>
    <meta property="og:title" content="devtools"/>
    <meta property="og:type" content="githubog:gitrepository"/>
    <meta property="og:url" content="https://github.com/hadley/devtools"/>
    <meta property="og:image" content="https://secure.gravatar.com/avatar/7ba164f40a50bc23dbb2aa825fb7bc16?s=420&amp;d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-user-420.png"/>
    <meta property="og:site_name" content="GitHub"/>
    <meta property="og:description" content="devtools - Tools to make an R developer&#39;s life easier"/>
    <meta property="twitter:card" content="summary"/>
    <meta property="twitter:site" content="@GitHub">
    <meta property="twitter:title" content="hadley/devtools"/>

    <meta name="description" content="devtools - Tools to make an R developer&#39;s life easier" />


    <meta content="4196" name="octolytics-dimension-user_id" /><meta content="hadley" name="octolytics-dimension-user_login" /><meta content="643909" name="octolytics-dimension-repository_id" /><meta content="hadley/devtools" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="643909" name="octolytics-dimension-repository_network_root_id" /><meta content="hadley/devtools" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/hadley/devtools/commits/master.atom" rel="alternate" title="Recent Commits to devtools:master" type="application/atom+xml" />

  </head>


  <body class="logged_out  linux vis-public env-production  ">
    <div id="wrapper">

      
      
      

      
      <div class="header header-logged-out">
  <div class="container clearfix">

    <a class="header-logo-wordmark" href="https://github.com/">Github</a>

    <div class="header-actions">
      <a class="button primary" href="/signup">Sign up</a>
      <a class="button" href="/login?return_to=%2Fhadley%2Fdevtools%2Fwiki%2FPackage-basics">Sign in</a>
    </div>

    <div class="command-bar js-command-bar  in-repository">


      <ul class="top-nav">
          <li class="explore"><a href="/explore">Explore</a></li>
        <li class="features"><a href="/features">Features</a></li>
          <li class="enterprise"><a href="http://enterprise.github.com/">Enterprise</a></li>
          <li class="blog"><a href="/blog">Blog</a></li>
      </ul>
        <form accept-charset="UTF-8" action="/search" class="command-bar-form" id="top_search_form" method="get">
  <a href="/search/advanced" class="advanced-search-icon tooltipped downwards command-bar-search" id="advanced_search" title="Advanced search"><span class="octicon octicon-gear "></span></a>

  <input type="text" data-hotkey="/ s" name="q" id="js-command-bar-field" placeholder="Search or type a command" tabindex="1" autocapitalize="off"
    
      data-repo="hadley/devtools"
      data-branch="master"
      data-sha="363c3ae5c4bf33640e90726826df92f5877945f8"
  >

    <input type="hidden" name="nwo" value="hadley/devtools" />

    <div class="select-menu js-menu-container js-select-menu search-context-select-menu">
      <span class="minibutton select-menu-button js-menu-target">
        <span class="js-select-button">This repository</span>
      </span>

      <div class="select-menu-modal-holder js-menu-content js-navigation-container">
        <div class="select-menu-modal">

          <div class="select-menu-item js-navigation-item selected">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" class="js-search-this-repository" name="search_target" value="repository" checked="checked" />
            <div class="select-menu-item-text js-select-button-text">This repository</div>
          </div> <!-- /.select-menu-item -->

          <div class="select-menu-item js-navigation-item">
            <span class="select-menu-item-icon octicon octicon-check"></span>
            <input type="radio" name="search_target" value="global" />
            <div class="select-menu-item-text js-select-button-text">All repositories</div>
          </div> <!-- /.select-menu-item -->

        </div>
      </div>
    </div>

  <span class="octicon help tooltipped downwards" title="Show command bar help">
    <span class="octicon octicon-question"></span>
  </span>


  <input type="hidden" name="ref" value="cmdform">

  <div class="divider-vertical"></div>

</form>
    </div>

  </div>
</div>


      


            <div class="site hfeed" itemscope itemtype="http://schema.org/WebPage">
      <div class="hentry">
        
        <div class="pagehead repohead instapaper_ignore readability-menu ">
          <div class="container">
            <div class="title-actions-bar">
              

<ul class="pagehead-actions">



    <li>
      <a href="/login?return_to=%2Fhadley%2Fdevtools"
        class="minibutton js-toggler-target star-button entice tooltipped upwards"
        title="You must be signed in to use this feature" rel="nofollow">
        <span class="octicon octicon-star"></span>Star
      </a>
      <a class="social-count js-social-count" href="/hadley/devtools/stargazers">
        599
      </a>
    </li>
    <li>
      <a href="/login?return_to=%2Fhadley%2Fdevtools"
        class="minibutton js-toggler-target fork-button entice tooltipped upwards"
        title="You must be signed in to fork a repository" rel="nofollow">
        <span class="octicon octicon-git-branch"></span>Fork
      </a>
      <a href="/hadley/devtools/network" class="social-count">
        94
      </a>
    </li>
</ul>

              <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
                <span class="repo-label"><span>public</span></span>
                <span class="mega-octicon octicon-repo"></span>
                <span class="author vcard">
                  <a href="/hadley" class="url fn" itemprop="url" rel="author">
                  <span itemprop="title">hadley</span>
                  </a></span> /
                <strong><a href="/hadley/devtools" class="js-current-repository">devtools</a></strong>
              </h1>
            </div>

            
  <ul class="tabs">
    <li class="pulse-nav"><a href="/hadley/devtools/pulse" class="js-selected-navigation-item " data-selected-links="pulse /hadley/devtools/pulse" rel="nofollow"><span class="octicon octicon-pulse"></span></a></li>
    <li><a href="/hadley/devtools" class="js-selected-navigation-item " data-selected-links="repo_source repo_downloads repo_commits repo_tags repo_branches /hadley/devtools">Code</a></li>
    <li><a href="/hadley/devtools/network" class="js-selected-navigation-item " data-selected-links="repo_network /hadley/devtools/network">Network</a></li>
    <li><a href="/hadley/devtools/pulls" class="js-selected-navigation-item " data-selected-links="repo_pulls /hadley/devtools/pulls">Pull Requests <span class='counter'>2</span></a></li>

      <li><a href="/hadley/devtools/issues" class="js-selected-navigation-item " data-selected-links="repo_issues /hadley/devtools/issues">Issues <span class='counter'>27</span></a></li>

      <li><a href="/hadley/devtools/wiki" class="js-selected-navigation-item selected" data-selected-links="repo_wiki /hadley/devtools/wiki">Wiki</a></li>


    <li><a href="/hadley/devtools/graphs" class="js-selected-navigation-item " data-selected-links="repo_graphs repo_contributors /hadley/devtools/graphs">Graphs</a></li>


  </ul>
  
  
  
  <div class="tabnav">
  <ul class="tabnav-tabs">
    <li><a href="/hadley/devtools/wiki" class="js-selected-navigation-item tabnav-tab" data-selected-links=" /hadley/devtools/wiki">Home</a></li>
    <li><a href="/hadley/devtools/wiki/_pages" class="js-selected-navigation-item tabnav-tab" data-selected-links=" /hadley/devtools/wiki/_pages">Pages</a></li>
    <li><a href="/hadley/devtools/wiki/_history" class="js-selected-navigation-item tabnav-tab" data-selected-links=" /hadley/devtools/wiki/_history">Wiki History</a></li>
    <li><a href="/hadley/devtools/wiki/_access" class="js-selected-navigation-item tabnav-tab" data-selected-links=" /hadley/devtools/wiki/_access">Git Access</a></li>
  </ul>
</div>



            
          </div>
        </div><!-- /.repohead -->

        <div id="js-repo-pjax-container" class="container context-loader-container" data-pjax-container>
          


<div id="wiki-wrapper" class="page">
<div id="head">
  <ul class="wiki-actions readability-extra">
    <li class="gollum-minibutton"><a href="/hadley/devtools/wiki/Package-basics/_history"
       class="minibutton bigger action-page-history">
       Page History
     </a></li>
  </ul>
  <h1 class="instapaper_title">Package basics</h1>
</div>
<div id="wiki-content">
  <div class="wrap has-rightbar">
  <div id="wiki-rightbar" class="gollum-markdown-content readability-sidebar">
    <h2>
<a name="contents" class="anchor" href="#contents"><span class="octicon octicon-link"></span></a>Contents</h2>

<p><a class="internal present" href="/hadley/devtools/wiki/Introduction">Introduction</a></p>

<h3>
<a name="r-programming" class="anchor" href="#r-programming"><span class="octicon octicon-link"></span></a>R programming</h3>

<p>Functional programming</p>

<ul>
<li><a class="internal present" href="/hadley/devtools/wiki/Functions">Functions</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Environments">Environments</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Functional-programming">Functional programming</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Functionals">Functionals</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Function-operators">Function operators</a></li>
</ul><p>Objected oriented programming</p>

<ul>
<li><a class="internal present" href="/hadley/devtools/wiki/SoftwareSystems">Software systems</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/S3">The S3 object system</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/S4">The S4 object system</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/R5">Reference based classes</a></li>
</ul><p>Computing on the language</p>

<ul>
<li><a class="internal present" href="/hadley/devtools/wiki/Computing-on-the-language">Introduction</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Expressions">Expressions</a></li>
<li><a class="internal absent" href="/hadley/devtools/wiki/formula">Formulas</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Special-environments">Computing in special environments</a></li>
</ul><p>Advanced programming techniques</p>

<ul>
<li><a class="internal present" href="/hadley/devtools/wiki/Exceptions-Debugging">Exceptions, debugging and getting help</a></li>
</ul><p>Performant code</p>

<ul>
<li><a class="internal present" href="/hadley/devtools/wiki/Profiling">Profiling and benchmarking</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Performance">General performance tips and tricks</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Rcpp">High performance functions with Rcpp</a></li>
</ul><h3>
<a name="package-development" class="anchor" href="#package-development"><span class="octicon octicon-link"></span></a>Package development</h3>

<ul>
<li><a class="internal present" href="/hadley/devtools/wiki/Philosophy">Philosophy</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Package-basics">Package basics</a></li>
<li>The <a class="internal present" href="/hadley/devtools/wiki/Package-development-cycle">Package development cycle</a>
</li>
<li><a class="internal present" href="/hadley/devtools/wiki/Package-quick-reference">Package Quick Reference</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Documenting-packages">Documenting packages</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Documenting-functions">Documenting functions</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Testing">Testing</a></li>
<li>Good code <a class="internal present" href="/hadley/devtools/wiki/Style">style</a>
</li>
<li>
<a class="internal present" href="/hadley/devtools/wiki/Namespaces">Namespaces</a>, to minimise conflict with other packages</li>
<li>
<a class="internal present" href="/hadley/devtools/wiki/Git">Source code control</a>: git + github</li>
<li><a class="internal present" href="/hadley/devtools/wiki/Release">Ready for release</a></li>
</ul><h3>
<a name="appendices" class="anchor" href="#appendices"><span class="octicon octicon-link"></span></a>Appendices</h3>

<ul>
<li><a class="internal present" href="/hadley/devtools/wiki/Data-structures">Data structures</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Subsetting">Subsetting</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/Vocabulary">Vocabulary</a></li>
<li><a class="internal present" href="/hadley/devtools/wiki/C-interface">R's C interface</a></li>
</ul>
  </div>
  <div id="wiki-body" class="gollum-markdown-content instapaper_body">
    <div class="markdown-body">
      <h1>
<a name="package-basics" class="anchor" href="#package-basics"><span class="octicon octicon-link"></span></a>Package basics</h1>

<p>An R package is the basic unit of reusable code. You need to master the art of making R packages if you want others to use your code. At their heart, packages are quite simple and only have two essential components: </p>

<ul>
<li><p>a <code>DESCRIPTION</code> file that describes the package, what is does, who's allowed
to use it (the license) and who to contact if you need help</p></li>
<li><p>an <code>R</code> directory that contains your R code.</p></li>
</ul><p>If you want to distribute R code to someone else, there's no excuse not to use a simple package: it's a standard structure, and you can easily build it out into a complete package by adding documentation, data and tests.</p>

<p>This document explains how to get started, with a description of package structure, tips for naming your package, and more details about the <code>DESCRIPTION</code> file.</p>

<p>The most accurate resource for up-to-date details on package development is always the official <a href="http://cran.r-project.org/doc/manuals/R-exts.html#Creating-R-packages" rel="nofollow">writing R extensions</a> guide. However, it's rather hard to read and follow if you're not already familiar with the basics of packages. It's also exhaustive, covering every possible package component, rather than focussing on the most common and useful components as this package does. Once you are familiar with the content here, you should find R extensions a little easier to read.</p>

<h2>
<a name="package-essentials" class="anchor" href="#package-essentials"><span class="octicon octicon-link"></span></a>Package essentials</h2>

<p>As mentioned above, there are only two elements that you must have:</p>

<ul>
<li><p>the <code>DESCRIPTION</code> file, which provides metadata about the package, and is
described in the following section.</p></li>
<li><p>the <code>R/</code> directory where your R code lives (in <code>.R</code> or <code>.r</code> files).</p></li>
</ul><p>If you don't want to create this by hand, you can use <code>devtools::create</code> which initialises the directory structure and includes a few other files that most packages have.</p>

<h2>
<a name="optional-components" class="anchor" href="#optional-components"><span class="octicon octicon-link"></span></a>Optional components</h2>

<p>Almost all R packages also have:</p>

<ul>
<li>the <code>man/</code> directory where your <a class="internal present" href="/hadley/devtools/wiki/Documenting-functions" rel="nofollow">function documentation</a>. In
the style of package development described in this book, you'll never
personally touch the files in this directory. Instead, they will be
automatically generated from comments in your source code using the
<code>roxygen2</code> package</li>
</ul><p>After the code and function documentation, the most important optional components of an R package help your users learn how to use your package. The following files and directories are described in more detail in <a class="internal present" href="/hadley/devtools/wiki/Documenting-packages" rel="nofollow">documenting packages</a>.</p>

<ul>
<li><p>the <code>NEWS</code> file describes the changes in each version of the package. Using
the standard R format will allow you to take advantage of many automated
tools for displaying changes between versions.</p></li>
<li><p>the <code>README</code> file gives a general overview of your package, including why
it's important. This text should be included in any package announcement, to
help others understand why they might want to use your package.</p></li>
<li><p>the <code>inst/CITATION</code> file describes how to cite your package. If you have
published a peer reviewed article which you'd like people to cite when they
use your software, this is the place to put it.</p></li>
<li><p>the <code>demo/</code> directory contains larger scale demos, that use many 
features of the package.</p></li>
<li><p>the <code>inst/doc/</code> directory is used for larger scale documentation, like
vignettes, long-form documents which show how to combine multiple parts
of your package to solve problems.</p></li>
</ul><p>Other optional files and directories are part of good development practice:</p>

<ul>
<li><p>a <code>NAMESPACE</code> file describes which functions are part of the formal API of
the package and are available for others to use. See <a class="internal present" href="/hadley/devtools/wiki/Namespaces" rel="nofollow">namespaces</a> for more
details.</p></li>
<li><p><code>tests/</code> and <code>inst/tests/</code> contains <a class="internal present" href="/hadley/devtools/wiki/Testing" rel="nofollow">unit tests</a> which ensure that
your package is operating as designed. In this book, we'll focus on the
<code>testthat</code> package for writing tests.</p></li>
<li><p>the <code>data/</code> directory contains <code>.rdata</code> files, used to include sample
datasets (or other R objects) with your package.</p></li>
</ul><p>There are other directories that we won't cover. You might see these in other packages you download from CRAN, but these topics are outside the scope of this book.</p>

<ul>
<li><p><code>src/</code>: C, C++ and fortran source code</p></li>
<li><p><code>exec/</code>: executable scripts</p></li>
<li><p><code>po/</code>: translation files</p></li>
</ul><h2>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting started</h2>

<p>When creating a package the first thing (and sometimes the most difficult) is to come up with a name for it.  There's only one formal requirement:</p>

<ul>
<li>The package name can only consist of letters and numbers, and must start
with a letter.</li>
</ul><p>But I have a few additional recommendations:</p>

<ul>
<li><p>Make the package name googleable, so that if you google the name you can
easily find it. This makes it easy for potential users to find your package,
and it's also useful for you, because it makes it easier to find out who is
using it.</p></li>
<li><p>Avoid using both upper and lower case letters: they make the package name
hard to type and hard to remember. For example, I can never remember if it's
<code>Rgtk2</code> or <code>RGTK2</code> or <code>RGtk2</code>.</p></li>
</ul><p>Some strategies I've used in the past to create packages names:</p>

<ul>
<li><p>Use abbreviations: <code>lvplot</code> (letter value plots), <code>meifly</code> (models explored
interactively)</p></li>
<li><p>Add an extra R: <code>stringr</code> (string processing), <code>tourr</code> (grand tours), <code>httr</code>
(HTTP requests), <code>helpr</code> (alternative documentation view)</p></li>
<li><p>Find a name evocative of the problem and modify it so that it's unique:
<code>plyr</code> (generalisation of apply tools), <code>lubridate</code> (makes dates and times
easier), <code>mutatr</code> (mutable objects), <code>classifly</code> (high-dimensional views of
classification)</p></li>
</ul><p>Once you have a name, create a directory with that name, and inside that create an <code>R</code> subdirectory and a <code>DESCRIPTION</code> file (note that's there's no extension, and the file name must be all upper case). </p>

<h2>
<a name="the-r-directory" class="anchor" href="#the-r-directory"><span class="octicon octicon-link"></span></a>The <code>R/</code> directory</h2>

<p>The <code>R/</code> directory contains all your R code, so copy in any existing code.</p>

<p>It's up to you how you arrange your functions into files. There are two
possible extremes: all functions in one file, and each function in its own
file. I think these are both too extreme, and I suggest grouping related
functions into a single file. My rule of thumb is that if I can't remember
which file a function lives in, I probably need to split them up into more
files: having only one function in a file is perfectly reasonable,
particularly if the functions are large or have a lot of documentation. As
you'll see in the next chapter, often the code for the function is small
compared to its documentation (it's much easier to do something than it is to
explain to someone else how to do it.)</p>

<p>The next step is to create a <code>DESCRIPTION</code> file that defines package metadata.</p>

<h2>
<a name="a-minimal-description-file" class="anchor" href="#a-minimal-description-file"><span class="octicon octicon-link"></span></a>A minimal <code>DESCRIPTION</code> file</h2>

<p>A minimal description file (this one is taken from an early version of plyr) looks like this:</p>

<pre><code>Package: plyr
Title: Tools for splitting, applying and combining data
Description: 
Version: 0.1
Author: Hadley Wickham &lt;h.wickham@gmail.com&gt;
Maintainer: Hadley Wickham &lt;h.wickham@gmail.com&gt;
License: MIT
</code></pre>

<p>This is the critical subset of package metadata: what it's called (<code>Package</code>), what it does (<code>Title</code>, <code>Description</code>), who's allowed to use and distribute it (<code>License</code>), who wrote it (<code>Author</code>), and who to contact if you have problems (<code>Maintainer</code>). Here I've left the <code>Description</code> blank to illustrate that if you haven't decided what the correct value is yet, it's ok to leave it blank. </p>

<p>Again, the six required elements are:</p>

<ul>
<li><p><code>Package</code>: name of the package. Should be the same as the directory name.</p></li>
<li><p><code>Title</code>: a one line description of the package.</p></li>
<li><p><code>Description</code>: a more detailed paragraph-length description.</p></li>
<li><p><code>Version</code>: the version number, which should be of the the form
<code>major.minor.patchlevel</code>. See <code>?package_version</code> for more details on the
package version formats. I recommended following the principles of <a href="http://semver.org/" rel="nofollow">semantic
versioning</a>.</p></li>
<li><p><code>Maintainer</code>: a single name and email address for the person responsible for
package maintenance.</p></li>
<li><p><code>License</code>: a standard abbreviation for an open source license, like <code>GPL-2</code>
or <code>BSD</code>. A complete list of possibilities can be found by running
<code>file.show(file.path(R.home(), "share/licenses/license.db"))</code>. If you are
using a non-standard license, put <code>file LICENSE</code> and then include the full
text of the license in a <code>LICENSE</code>.</p></li>
</ul><h2>
<a name="other-description-components" class="anchor" href="#other-description-components"><span class="octicon octicon-link"></span></a>Other <code>DESCRIPTION</code> components</h2>

<p>A more complete <code>DESCRIPTION</code> (this one from a more recent version of <code>plyr</code>) looks like this:</p>

<pre><code>Package: plyr
Title: Tools for splitting, applying and combining data
Description: plyr is a set of tools that solves a common set of
    problems: you need to break a big problem down into manageable
    pieces, operate on each pieces and then put all the pieces back
    together.  For example, you might want to fit a model to each
    spatial location or time point in your study, summarise data by
    panels or collapse high-dimensional arrays to simpler summary
    statistics. The development of plyr has been generously supported
    by BD (Becton Dickinson).
URL: http://had.co.nz/plyr
Version: 1.3
Maintainer: Hadley Wickham &lt;h.wickham@gmail.com&gt;
Author: Hadley Wickham &lt;h.wickham@gmail.com&gt;
Depends: R (&gt;= 2.11.0)
Suggests: abind, testthat (&gt;= 0.2), tcltk, foreach
Imports: itertools, iterators
License: MIT
</code></pre>

<p>This <code>DESCRIPTION</code> includes other components that are optional, but still
important:</p>

<ul>
<li><p><code>Depends</code>, <code>Suggests</code>, <code>Imports</code> and <code>Enhances</code> describe which packages
this package needs. They are described in more detail in <a class="internal present" href="/hadley/devtools/wiki/Namespaces" rel="nofollow">namespaces</a>.</p></li>
<li><p><code>URL</code>: a url to the package website. Multiple urls can be separated with a
comma or whitespace.</p></li>
</ul><p>Instead of <code>Maintainer</code> and <code>Author</code>, you can <code>Authors@R</code>, which takes a vector of <code>person()</code> elements.  Each person object specifies the name of the person and their role in creating the package:</p>

<ul>
<li><p><code>aut</code>: full authors who have contributed much to the package</p></li>
<li><p><code>ctb</code>: people who have made smaller contributions, like patches.</p></li>
<li><p><code>cre</code>: the package creator/maintainer, the person you should bother if you
have problems</p></li>
</ul><p>Other roles are listed in the help for person. Using <code>Authors@R</code> is useful when your package gets bigger and you have multiple contributors that you want to acknowledge appropriately. The equivalent <code>Authors@R</code> syntax for plyr would be:</p>

<pre><code>  Authors@R: person("Hadley", "Wickham", role = c("aut", "cre"))
</code></pre>

<p>There are a number of other less commonly used fields like <code>BugReports</code>, <code>KeepSource</code>, <code>OS_type</code> and <code>Language</code>. A complete list of the <code>DESCRIPTION</code> fields that R understands can be found in the <a href="http://cran.r-project.org/doc/manuals/R-exts.html#The-DESCRIPTION-file" rel="nofollow">R extensions manual</a>.</p>

<h2>
<a name="source-binary-and-bundled-packages" class="anchor" href="#source-binary-and-bundled-packages"><span class="octicon octicon-link"></span></a>Source, binary and bundled packages</h2>

<p>So far we've just described the structure of a source package: the development version of a package that lives on your computer. There are also two other types of package: bundled packages and binary packages.</p>

<p>A package <strong>bundle</strong> is a compressed version of a package in a single file. By convention, package bundles in R use the extension <code>.tar.gz</code>. This is linux convention indicating multiple files have been collapsed into a single file (<code>.tar</code>) and then compressed using gzip (<code>.gz</code>). The package bundle is useful if you want to manually distribute your package to another R package developer. It is not OS specific. You can use <code>devtools::build()</code> to make a package bundle.</p>

<p>If you want to distribute your package to another R user (i.e. someone who doesn't necessarily have the development tools installed) you need to make a <strong>binary</strong> package. Like a package bundle, a binary package is a single file, but if you uncompress it, you'll see that the internal structure is a little different to a source package: </p>

<ul>
<li><p>a <code>Meta/</code> directory contains a number of <code>Rds</code> files. These contain cached
metadata about the package, like what topics the help files cover and
parsed versions of the <code>DESCRIPTION</code> files. (If you want to look at what's
in these files you can use <code>readRDS</code>)</p></li>
<li><p>a <code>html/</code> directory contains some files needed for the html help.</p></li>
<li><p>there are no <code>.R</code> files in the <code>R/</code> directory - instead there are three
files that store the parsed functions in an efficient format. This is
basically the result of loading all the R code and then saving the
functions with <code>save</code>, but with a little extra metadata to make things as
fast as possible.</p></li>
<li><p>If you had any code in the <code>src/</code> directory there will now be a <code>libs/</code>
directory that contains the results of compiling that code for 32 bit
(<code>i386/</code>) and 64 bit (<code>x64</code>)</p></li>
</ul><p>Binary packages are platform specific: you can't install a windows binary package on a mac or vice versa. You can use <code>devtools::build(binary = TRUE)</code> to make a package bundle.</p>

<p>An <strong>installed</strong> package is just a binary package that's been uncompressed into a package library, described next.</p>

<h2>
<a name="package-libraries" class="anchor" href="#package-libraries"><span class="octicon octicon-link"></span></a>Package libraries</h2>

<p>A library is a collection of installed packages. You can have multiple libraries on your computer and most people have at least two: one for the recommended packages that come with a base R install (like <code>base</code>, <code>stats</code> etc), and one library where the packages you've installed live. The default is to make that directory dependent on which version of R you have installed - that's why you normally lose all your packages when you reinstall R. If you want to avoid this behaviour, you can manually set the <code>R_LIBS</code> environmental variable to point somewhere else. <code>.libPaths()</code> tells you where your current libraries live.</p>

<p>When you use <code>library(pkg)</code> to load a package, R looks through each path in <code>.libPaths()</code> to see if a directory called <code>pkg</code> exists. </p>

<h2>
<a name="installing-packages" class="anchor" href="#installing-packages"><span class="octicon octicon-link"></span></a>Installing packages</h2>

<p>Package installation is the process whereby a source package gets converted into a binary package and then installed into your local package library.  There are a number of tools that automate this process:</p>

<ul>
<li><p><code>install.packages()</code> installs a package from CRAN. Here CRAN takes care of
making the binary package and so installation from CRAN basically is
equivalent to downloading the binary package value and unzipping it in
<code>.libPaths()[1]</code> (but you should never do this by hand because the process
also does other checks)</p></li>
<li><p><code>devtools::install()</code> installs a source package from a directory on your
computer.</p></li>
<li><p><code>devtools::install_github()</code> installs a package that someone has published
on their <a href="http://github" rel="nofollow">github</a> account. There are a number of similar
functions that make it easy to install packages from other internet
locations: <code>install_url</code>, <code>install_gitorious</code>, <code>install_bitbucket</code>, and so
on.</p></li>
</ul><h2>
<a name="exercises" class="anchor" href="#exercises"><span class="octicon octicon-link"></span></a>Exercises</h2>

<p>(to be integrated throughout the chapter)</p>

<ul>
<li><p>Go to CRAN and download the source and binary for XXX. Unzip and compare.
How do they differ?</p></li>
<li><p>Download the <strong>source</strong> packages for XXX, YYY, ZZZ. What directories do they
contain?</p></li>
<li><p>Where is your default library? What happens if you install a new package
from CRAN?</p></li>
</ul>
    </div>
  </div>
  <div id="wiki-footer">
    <div id="gollum-footer-content" class="gollum-markdown-content">
      <h3>
<a name="contributing-to-the-wiki" class="anchor" href="#contributing-to-the-wiki"><span class="octicon octicon-link"></span></a>Contributing to the wiki</h3>

<ul>
<li>If you spot a typo, feel free to edit the wiki directly</li>
<li>If you don't understand something, please <a href="mailto:h.wickham@gmail.com">email Hadley</a>
</li>
<li>If you have have a longer contribution, please contact me first; you'll need to assign me the copyright so that I can publish the book without legal problems.</li>
</ul>
    </div>
  </div>
  </div>

</div>
<div id="gollum-footer">
  <p id="last-edit">
    Last edited by EdFineOKL, <time class="js-relative-date" datetime="2013-04-30T21:48:27-07:00" title="2013-04-30 21:48:27">April 30, 2013</time>
  </p>
</div>
</div>


        </div>
      </div>
      <div class="modal-backdrop"></div>
    </div>

      <div id="footer-push"></div><!-- hack for sticky footer -->
    </div><!-- end of wrapper - hack for sticky footer -->

      <!-- footer -->
      <div id="footer">
  <div class="container clearfix">

      <dl class="footer_nav">
        <dt>GitHub</dt>
        <dd><a href="/about">About us</a></dd>
        <dd><a href="/blog">Blog</a></dd>
        <dd><a href="/contact">Contact &amp; support</a></dd>
        <dd><a href="http://enterprise.github.com/">GitHub Enterprise</a></dd>
        <dd><a href="http://status.github.com/">Site status</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>Applications</dt>
        <dd><a href="http://mac.github.com/">GitHub for Mac</a></dd>
        <dd><a href="http://windows.github.com/">GitHub for Windows</a></dd>
        <dd><a href="http://eclipse.github.com/">GitHub for Eclipse</a></dd>
        <dd><a href="http://mobile.github.com/">GitHub mobile apps</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>Services</dt>
        <dd><a href="http://get.gaug.es/">Gauges: Web analytics</a></dd>
        <dd><a href="http://speakerdeck.com">Speaker Deck: Presentations</a></dd>
        <dd><a href="https://gist.github.com">Gist: Code snippets</a></dd>
        <dd><a href="http://jobs.github.com/">Job board</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>Documentation</dt>
        <dd><a href="http://help.github.com/">GitHub Help</a></dd>
        <dd><a href="http://developer.github.com/">Developer API</a></dd>
        <dd><a href="http://github.github.com/github-flavored-markdown/">GitHub Flavored Markdown</a></dd>
        <dd><a href="http://pages.github.com/">GitHub Pages</a></dd>
      </dl>

      <dl class="footer_nav">
        <dt>More</dt>
        <dd><a href="http://training.github.com/">Training</a></dd>
        <dd><a href="/edu">Students &amp; teachers</a></dd>
        <dd><a href="http://shop.github.com">The Shop</a></dd>
        <dd><a href="/plans">Plans &amp; pricing</a></dd>
        <dd><a href="http://octodex.github.com/">The Octodex</a></dd>
      </dl>

      <hr class="footer-divider">


    <p class="right">&copy; 2013 <span title="0.10440s from fe17.rs.github.com">GitHub</span>, Inc. All rights reserved.</p>
    <a class="left" href="/">
      <span class="mega-octicon octicon-mark-github"></span>
    </a>
    <ul id="legal">
        <li><a href="/site/terms">Terms of Service</a></li>
        <li><a href="/site/privacy">Privacy</a></li>
        <li><a href="/security">Security</a></li>
    </ul>

  </div><!-- /.container -->

</div><!-- /.#footer -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-fullscreen-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="js-fullscreen-contents" placeholder="" data-suggester="fullscreen_suggester"></textarea>
          <div class="suggester-container">
              <div class="suggester fullscreen-suggester js-navigation-container" id="fullscreen_suggester"
                 data-url="/hadley/devtools/suggestions/commit">
              </div>
          </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped leftwards" title="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped leftwards"
      title="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      Something went wrong with that request. Please try again.
      <a href="#" class="octicon octicon-remove-close ajax-error-dismiss"></a>
    </div>

    
    <span id='server_response_time' data-time='0.10476' data-host='fe17'></span>
    
  </body>
</html>

